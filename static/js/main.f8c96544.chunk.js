(this["webpackJsonpdma-20"]=this["webpackJsonpdma-20"]||[]).push([[0],[,,,,,function(e,t,r){e.exports=r(12)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(1),s=r.n(a),o=(r(10),r(11),liquidfun,liquidfun.b2BodyDef),l=liquidfun.b2CircleShape,c=liquidfun.b2ParticleGroupDef,u=liquidfun.b2ParticleSystemDef,h=liquidfun.b2PolygonShape,d=liquidfun.b2Vec2,v=liquidfun.b2_springParticle,w=liquidfun.b2_solidParticleGroup,f=liquidfun.b2_dynamicBody;var p=r(3),m=r(4);function g(e){for(var t=0,r=0,n=0;n<e.length;n+=2)t+=e[n],r+=e[n+1];return[t/(e.length/2),r/(e.length/2)]}function b(e,t,r){for(var n=-1,i=[0,0],a=0;a<e.length;a+=2){var s=e[a],o=e[a+1],l=t-s,c=r-o,u=Math.sqrt(l*l+c*c);(-1==n||u<n)&&(n=u,i=[s,o])}return i}function y(e,t,r){for(var n=[],i=0;i<30;i++){var a=i/30*(2*Math.PI),s=Math.cos(a)*r+t[0],o=Math.sin(a)*r+t[1];n.push(b(e,s,o))}return n}var S=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.scale,a=void 0===i?10:i;Object(p.a)(this,e),this.maxVertices=31e3,this.world=t,this.positions=[],this.colors=[],this.currentVertex=0,this.svgEl=r,this.scale=a}return Object(m.a)(e,[{key:"draw",value:function(){for(var e=0,t=this.world.particleSystems.length;e<t;e++)this.drawParticleSystem(this.world.particleSystems[e])}},{key:"insertLine",value:function(e,t,r,n,i,a,s){var o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",e*this.scale),o.setAttribute("y1",t*this.scale),o.setAttribute("x2",r*this.scale),o.setAttribute("y2",n*this.scale),o.setAttribute("stroke","black"),o.setAttribute("fill","transparent"),this.svgEl.appendChild(o)}},{key:"upsertPath",value:function(e,t){for(var r="M ".concat(e[0][0]*this.scale," ").concat(e[0][1]*this.scale," "),n=1;n<e.length;n++)r+="L ".concat(e[n][0]*this.scale," ").concat(e[n][1]*this.scale," ");r+="z";var i=this.svgEl.children[t];"undefined"==typeof i&&(i=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgEl.appendChild(i)),i.setAttribute("d",r),i.setAttribute("stroke","black"),i.setAttribute("fill","transparent")}},{key:"drawParticleSystem",value:function(e){for(var t=e.GetPositionBuffer(),r=e.particleGroups,n=0;n<r.length;n++){var i=2*r[n].GetBufferIndex(),a=i+2*r[n].GetParticleCount(),s=t.slice(i,a),o=y(s,g(s),5);this.upsertPath(o,n)}}}]),e}(),E=(liquidfun,liquidfun.b2Vec2),P=liquidfun.b2World;function q(e){var t=e.scale,r=void 0===t?20:t,a=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=new P(new E(0,5));window.world=e,function(e){if(null!==e){for(;e.joints.length>0;)e.DestroyJoint(e.joints[0]);for(;e.bodies.length>0;)e.DestroyBody(e.bodies[0]);for(;e.particleSystems.length>0;)e.DestroyParticleSystem(e.particleSystems[0])}}(e),function(e){var t=e.world,r=e.numBlobs,n=void 0===r?11:r,i=e.width,a=void 0===i?800:i,s=e.height,p=void 0===s?600:s,m=e.scale,g=void 0===m?10:m,b=new o,y=t.CreateBody(b);window.world=t;var S=a/g,E=p/g,P=new h;P.vertices.push(new d(0,-1)),P.vertices.push(new d(S,-1)),P.vertices.push(new d(S,0)),P.vertices.push(new d(0,0)),y.CreateFixtureFromShape(P,0);var q=new h;q.vertices.push(new d(-1,-1)),q.vertices.push(new d(0,-1)),q.vertices.push(new d(0,E)),q.vertices.push(new d(-1,E)),y.CreateFixtureFromShape(q,0);var C=new h;C.vertices.push(new d(S+1,-1)),C.vertices.push(new d(S+1,E+1)),C.vertices.push(new d(S,E+1)),C.vertices.push(new d(S,-1)),y.CreateFixtureFromShape(C,0);var k=new h;k.vertices.push(new d(-1,E)),k.vertices.push(new d(S+1,E)),k.vertices.push(new d(S,E+1)),k.vertices.push(new d(-1,E+1)),y.CreateFixtureFromShape(k,0);var x=new u;x.radius=.1;for(var A=t.CreateParticleSystem(x),F=0;F<n;F++){var B=new l;B.position.Set(10*Math.floor(F/4)+10,F%4*6+5),B.radius=4;var M=new c;M.flags=v,M.groupFlags=w,M.shape=B,M.color.Set(255*Math.random(),255*Math.random(),255*Math.random(),255),A.CreateParticleGroup(M)}b=new o;var G=new l;b.type=f;var j=t.CreateBody(b);G.position.Set(0,8),G.radius=.5,j.CreateFixtureFromShape(G,.5)}({world:e,scale:r});var t=new S(e,a.current,{scale:r});t.draw(),window.setInterval((function(){e.Step(1/30,5,3),t.draw()}),1e3/60)}),[]),i.a.createElement("div",null,i.a.createElement("svg",{width:800,height:600},i.a.createElement("g",{ref:a,style:{transform:"scale(1)"}})))}var C=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.f8c96544.chunk.js.map